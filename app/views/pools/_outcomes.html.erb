<table>
	<thead>
    	<tr>
    	  <th>Title</th>
    	  <th>Summary</th>
    	  <th>Bets</th>
    	  <th>Odds</th>
    	  <th>Payout</th>
    	</tr>
  	</thead>
	<tbody>
		<% @pool.outcomes.each do |outcome| %>
		      <tr>
		        <td><%= link_to outcome.title, outcome %></td>
		        <td><%= outcome.summary %></td>
		        <td><%= wager_count = outcome.wagers.count %></td>
		        <td><%= a = @pool.outcomes.reduce(0) { |m,o| m + o.wagers.count } 
		        if a > 0 and wager_count > 0
		        	odds = Rational(a,wager_count)
		        	"#{odds.numerator} to #{odds.denominator} against"
		        else
		        	"NA"
		        end %></td>
		        <td><%= outcome.wagers.count > 0 ? @pool.total_pot / outcome.wagers.count : 0 %></td>
		        <td><%= link_to 'Bet!', profile_path(:outcome => outcome.id), method: :bet %></td>
		      </tr>
		<% end %>
	</tbody>
</table>
